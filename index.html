<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Dayanna❤️</title>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="rainyday.js-master/src/rainyday.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Arial', sans-serif;
            text-align: center;
            background-color: #1a1a1a;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
        }

        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            background-color: #1a1a1a;
            z-index: -1;
        }

        .container {
            background-color: #000;
            width: 400px;
            height: 400px;
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.9);
            display: none;
            border-radius: 10px;
            animation: aparecer 1s ease forwards;
            position: relative;
        }

        .spotify-logo {
            position: absolute;
            left: 10px;
            bottom: 10px;
            width: 30px;
            filter: drop-shadow(3px 3px 3px rgba(0, 0, 0, 0.7));
        }

        .spotify-text {
            position: absolute;
            left: 50px;
            bottom: 15px;
            font-size: 18px;
            text-shadow: 2px 2px 3px rgba(0, 0, 0, 0.7), 2px 2px 3px rgba(255, 255, 255, 0.5);
        }

        .small-image {
            position: absolute;
            left: 10px;
            top: 30px;
            width: 60px;
            height: auto;
            border: 2px solid #fff;
            border-radius: 5px;
            filter: drop-shadow(3px 3px 3px rgba(0, 0, 0, 0.7));
        }

        .song-text {
            position: absolute;
            left: 22px;
            top: 53px;
            width: 330px;
            font-size: 16px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            text-shadow: 3px 3px 4px rgba(255, 255, 255, 0.7);
            display: flex;
            flex-direction: column;
            align-items: center;
            line-height: 1.5;
        }

        .lyrics-container {
            position: absolute;
            top: 160px;
            left: 10px;
            width: 380px;
            height: 230px;
            overflow: hidden;
            text-align: left;
            line-height: 1.4;
            font-size: 14px;
            color: #fff;
            display: flex;
            flex-direction: column;
        }

        .lyrics-line {
            overflow: hidden;
            white-space: nowrap;
            opacity: 0;
            animation: fadeInUp 1s forwards, fadeOut 1s forwards 4s;
            display: flex;
            align-items: center;
        }

        .lyrics-line span {
            opacity: 0;
            animation: paint 2s forwards;
            display: block;
            margin: 5px 0;
        }

        @keyframes paint {
            to {
                opacity: 1;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeOut {
            from {
                opacity: 1;
            }
            to {
                opacity: 0;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        button {
            background-color: #000000;
            color: #fff;
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            cursor: pointer;
            border-radius: 20px;
            transition: background-color 0.3s ease;
            text-shadow: 2px 2px 3px rgba(0, 0, 0, 0.7), 2px 2px 3px rgba(255, 255, 255, 0.5);
        }

        button:hover {
            background-color: #555;
        }

        @keyframes aparecer {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>
    <button onclick="iniciarConteo()">Presiona para comenzar</button>
    <div class="container" id="cuadrado">
        <img class="spotify-logo" src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/19/Spotify_logo_without_text.svg/1200px-Spotify_logo_without_text.svg.png" alt="Spotify Logo">
        <div class="spotify-text">Spotify</div>
        <img class="small-image" src="Cancion1.jpg" alt="Cancion1">
        <div class="song-text">James Arthur - Car's Outside</div>
        <div class="lyrics-container" id="lyrics-container"></div>
    </div>

    <audio id="miAudio" src="musica.mp3"></audio>

    <script>
        function iniciarConteo() {
            var boton = document.querySelector('button');
            var cuadrado = document.getElementById('cuadrado');
            var audio = document.getElementById('miAudio');

            // Reproducir la música
            audio.play();

            var tiempo = 3;
            boton.innerHTML = tiempo;

            var intervalo = setInterval(function() {
                if (tiempo > 0) {
                    tiempo--;
                    boton.innerHTML = tiempo;
                } else {
                    clearInterval(intervalo);
                    cuadrado.style.display = 'block'; 
                    boton.style.display = 'none'; 
                    mostrarLetra();
                }
            }, 1000);
        }

        // Función para mostrar la letra línea por línea
        function mostrarLetra() {
            var lyricsContainer = document.getElementById('lyrics-container');
            var lyrics = [
                "Estoy empacando mis maletas que no desempaqué la última vez",
                "Estoy diciendo 'Nos vemos de nuevo', tantas veces que se está convirtiendo en mi lema.",
                "Pero sabes la verdad, prefiero abrazarte",
                "Que intentar tomar este vuelo",
                "Tantas cosas que preferiría decir",
                "Pero por ahora es un adiós.",
                "Dices que siempre me voy",
                "Tú, cuando duermes solo",
                "Pero el auto está afuera.",
                "Pero no quiero ir esta noche",
                "No voy a entrar en el Addison Lee",
                "A menos que hagas las maletas",
                "Vienes conmigo",
                "Estoy cansado de amar desde lejos",
                "Y nunca estar donde estás",
                "Cierra las ventanas, cierra las puertas.",
                "No quiero dejarte más",
                "Oh-oh, ah",
                "Oh-oh, ah",
                "Estoy mirando las mismas cuatro paredes en un hotel diferente",
                "Es un sentimiento desconocido pero lo conozco muy bien",
                "Oh, pero sabes la verdad, prefiero abrazarte",
                "Que este móvil en mi mano",
                "Pero supongo que servirá, porque para ti",
                "Aumentaría mi factura de teléfono",
                "Dices que siempre me voy",
                "Tú, cuando más me necesitas",
                "Pero el auto está afuera.",
                "Pero no quiero ir esta noche",
                "No voy a entrar en el Addison Lee",
                "A menos que hagas las maletas",
                "Vienes conmigo",
                "Estoy cansado de amar desde lejos",
                "Y nunca estar donde estás",
                "Cierra las ventanas, cierra las puertas.",
                "No quiero dejarte más",
                "Ooh-ooh, ah",
                "Ooh-ooh, ah",
                "Ooh-ooh, ah",
                "Ooh-ooh, ah",
                "Ooh-ooh, ah",
                "Ooh-ooh, ah",
                "No quiero dejarte",
                "No, ya no quiero dejarte",
                "No quiero dejarte",
                "no quiero dejarte",
                "(Ooh-ooh, ah) No quiero dejarte",
                "(Ooh-ooh, ah) No quiero dejarte",
                "No quiero dejarte más",
            ];

            // Función para mostrar las líneas de la letra
            function mostrarLinea(index) {
                var linea = lyrics[index];
                var letra = document.createElement('div');
                letra.className = 'lyrics-line fade-in-bottom';
                letra.innerHTML = "<span>" + linea + "</span>";
                lyricsContainer.appendChild(letra);

                // Hacer scroll hacia abajo para mostrar la nueva línea
                lyricsContainer.scrollTop = lyricsContainer.scrollHeight;

               // Cambia el tiempo de animación de 4s a 2s
setTimeout(function() {
    letra.style.opacity = 1;
    letra.querySelector('span').style.animation = 'paint 2s forwards';
}, 1000 * index);

            }

            // Mostrar líneas una por una
            for (var i = 0; i < lyrics.length; i++) {
                setTimeout(mostrarLinea.bind(null, i), 2000 * i);
            }
        }
        // Después de la línea audio.play();

audio.addEventListener('loadedmetadata', function() {
    // Obtener la duración total del audio
    var duracionTotal = audio.duration;

    // Mostrar la letra y ajustar el tiempo de animación
    cuadrado.style.display = 'block'; 
    boton.style.display = 'none'; 
    mostrarLetra();

    // Ajustar el tiempo de animación basado en la duración total de la canción
    velocidadAnimacion = duracionTotal / lyrics.length;
});

    </script>
</body>
</html>
